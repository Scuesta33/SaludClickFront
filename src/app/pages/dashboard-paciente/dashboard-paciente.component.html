<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav [mode]="isScreenSmall ? 'over' : 'side'" [opened]="!isScreenSmall || sidenav.opened">
    <mat-toolbar color="primary">Menú</mat-toolbar>
    <mat-nav-list>
      <mat-list-item (click)="setActiveSection('horarios'); closeSidenavIfSmall()">
        <mat-icon matListIcon>schedule</mat-icon>
        <span matLine>Horarios de médicos</span>
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('crear-cita'); closeSidenavIfSmall()">
        <mat-icon matListIcon>add_circle</mat-icon>
        <span matLine>Crear cita</span>
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('modificar-cita'); closeSidenavIfSmall()">
        <mat-icon matListIcon>edit</mat-icon>
        <span matLine>Modificar cita</span>
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('visualizar-citas'); closeSidenavIfSmall()">
        <mat-icon matListIcon>visibility</mat-icon>
        <span matLine>Visualizar citas</span>
      </mat-list-item>
      <mat-list-item (click)="setActiveSection('datos-usuario'); closeSidenavIfSmall()">
        <mat-icon matListIcon>person</mat-icon>
        <span matLine>Datos de usuario</span>
      </mat-list-item>
      <mat-divider></mat-divider>
      <mat-list-item (click)="logout(); closeSidenavIfSmall()" class="logout">
        <mat-icon matListIcon>exit_to_app</mat-icon>
        <span matLine>Cerrar sesión</span>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar color="primary">
      <button mat-icon-button (click)="sidenav.toggle()" class="menu-button">
        <mat-icon>menu</mat-icon>
      </button>
      Paciente
    </mat-toolbar>
    <div class="content">
      <div *ngIf="activeSection === 'horarios'">
        <h2>Horarios de médicos</h2>
        <!-- Contenido para Horarios de médicos -->
      </div>
      <div *ngIf="activeSection === 'crear-cita'">
        <h2>Crear cita</h2>
        <form [formGroup]="citaForm" (ngSubmit)="onSubmit()">
          <mat-form-field appearance="fill">
            <mat-label>Fecha</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="fecha">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Hora</mat-label>
            <input matInput type="time" formControlName="hora">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Estado</mat-label>
            <mat-select formControlName="estado">
              <mat-option value="PENDIENTE">PENDIENTE</mat-option>
              <mat-option value="ACEPTADA">ACEPTADA</mat-option>
              <mat-option value="RECHAZADA">RECHAZADA</mat-option>
              <mat-option value="CANCELADA">CANCELADA</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Nombre del Médico</mat-label>
            <input matInput formControlName="medicoNombre">
          </mat-form-field>
          <button mat-raised-button color="primary" type="submit">Crear Cita</button>
        </form>
      </div>
      <div *ngIf="activeSection === 'modificar-cita'">
        <h2>Modificar cita</h2>
        <form [formGroup]="modificarCitaForm" (ngSubmit)="onModificarSubmit()">
          <mat-form-field appearance="fill">
            <mat-label>ID de la Cita</mat-label>
            <input matInput formControlName="id">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Fecha</mat-label>
            <input matInput [matDatepicker]="modificarPicker" formControlName="fecha">
            <mat-datepicker-toggle matSuffix [for]="modificarPicker"></mat-datepicker-toggle>
            <mat-datepicker #modificarPicker></mat-datepicker>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Hora</mat-label>
            <input matInput type="time" formControlName="hora">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Estado</mat-label>
            <mat-select formControlName="estado">
              <mat-option value="PENDIENTE">PENDIENTE</mat-option>
              <mat-option value="ACEPTADA">ACEPTADA</mat-option>
              <mat-option value="RECHAZADA">RECHAZADA</mat-option>
              <mat-option value="CANCELADA">CANCELADA</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Nombre del Médico</mat-label>
            <input matInput formControlName="medicoNombre">
          </mat-form-field>
          <button mat-raised-button color="primary" type="submit">Modificar Cita</button>
        </form>
      </div>
      <div *ngIf="activeSection === 'visualizar-citas'">
        <h2>Visualizar citas</h2>
        <!-- Contenido para Visualizar citas -->
      </div>
      <div *ngIf="activeSection === 'datos-usuario'">
        <h2>Datos de usuario</h2>
        <form [formGroup]="usuarioForm" (ngSubmit)="onUsuarioSubmit()">
          <mat-form-field appearance="fill">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="nombre">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Teléfono</mat-label>
            <input matInput formControlName="telefono">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Contraseña</mat-label>
            <input matInput type="password" formControlName="password">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Rol</mat-label>
            <mat-select formControlName="rol">
              <mat-option value="MEDICO">Médico</mat-option>
              <mat-option value="PACIENTE">Paciente</mat-option>
            </mat-select>
          </mat-form-field>
          <button mat-raised-button color="primary" type="submit">Actualizar Datos</button>
          <button mat-raised-button color="warn" (click)="onEliminarUsuario()">Eliminar Usuario</button>
        </form>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>